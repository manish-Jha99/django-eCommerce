{% extends "base.html"%}

{% block content %}
<section class="section-margin">
<section class="cart_area">
  <h1 class='text-center'>Cart</h1>
      <div class="container text-center">
          <div class="cart_inner">
              <div class="table-responsive">
                {% if cart.products.exists %}
                  <table class="table cart-table">
                      <thead >
                          <tr>
                              <th scope="col">#</th>
                              <th scope="col">Product</th>
                              <th scope="col">Price</th>
                          </tr>
                      </thead>
                      <tbody class='cart-body'>
                        {% for product in cart.products.all %}
                          <tr class="cart-products">
                            <td>
                                <h5> {{ forloop.counter }}</h5>
                            </td>
                              <td>
                                  <div class="media">
                                      <div class="media-body">
                                        <a href="{{ product.get_absolute_urls }}">{{ product.title }}</a>
                                      </div>
                                  </div>
                                  {% include 'carts/snippets/remove-product.html' with product_id=product.id  %}
                              </td>
                              <td>
                                  <h5>{{ product.price }}</h5>
                              </td>
                          </tr>
                          {% endfor %}


                                <tr>
                                    <td colspan="2"></td>
                                    <td><b>Subtotal     :  </b><span class="cart-subtotal">{{ cart.subtotal }}</span></td>
                                </tr>
                                <tr>
                                    <td colspan="2"></td>
                                    <td><b>Total     :  </b><span class="cart-total">{{ cart.total }}</span></td>
                                </tr>

                          <tr class="out_button_area">
                              <td class="d-none-l">

                              </td>
                              <td>

                              </td>
                              <td>
                                <div class="checkout_btn_inner text-center">
                                    <a class="primary-btn" href='{% url "cart:checkout" %}'>Proceed to checkout</a>
                                </div>
                              </td>
                          </tr>
                      </tbody>
                  </table>
                      <div class="cart-item-remove-form" style="display:none">
                        {% include 'carts/snippets/remove-product.html' %}
                      </div>
                      {% else %}
                      <p class='lead text-center'> Cart is empty </p>
                      {% endif %}
              </div>
          </div>
      </div>
  </section>
</section>

{% endblock %}
